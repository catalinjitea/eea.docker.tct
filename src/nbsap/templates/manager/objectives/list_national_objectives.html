{% extends 'manager/base.html' %}

{% load i18n %}
{% load assets %}


{% block title %}
  NBSAP - {% trans "National Strategy: List National Objectives" %}
{% endblock %}


{% block content %}

  {% get_current_language as lang_code %}

  {% if messages %}
    <div class="messages alert alert-success">
      {% for message in messages %}
        <p{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</p>
      {% endfor %}
    </div>
  {% endif %}

  <h1 class="page-title">{% trans "National Strategy" %}</h1>
  <h1>{% trans "List National Objectives" %}</h1>

  <div class="action-bar">
    <a class="btn btn-success add"
       href="{% url 'edit_national_objective' %}">{% trans "Add objective" %}
    </a>
  </div>

  <table class="table">

    <thead>
      <th>{% trans "Code" %}</th>
      <th>{% trans "Title" %}</th>
    </thead>

    <tbody>
    {% for objective in objectives %}
      <tr>
        <td>{{ objective.code }}</td>
        <td>
          <a href="{% url 'view_national_objective' pk=objective.pk %}"
             title="{% trans 'Objective' %} {{ objective.code }}">
            {{ objective.title|default:objective.code }}</a>
        </td>
      </tr>
    {% endfor %}
    </tbody>

  </table>
{% endblock %}

{% block scripts %}

  {% assets "js_admin" %}
    <script type="text/javascript" src="{{ ASSET_URL }}"></script>
  {% endassets %}

  <script>

    $(document).ready(function() {
      $('.messages').delay(1000).fadeOut();
      $('.objectives_listing').dataTable({
          "bStateSave": true,
          "iDisplayLength": 25,
      });
    });
  </script>

{% endblock scripts %}

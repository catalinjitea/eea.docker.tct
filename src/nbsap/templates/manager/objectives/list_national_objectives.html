{% extends 'manager/base.html' %}

{% load i18n %}
{% load assets %}


{% block title %}
NBSAP - {% trans "National Strategy: List National Objectives" %}
{% endblock %}


{% block content %}
<section class="content-header">
  <h1 class="page-title">{% trans "National Strategy" %}</h1>
  <h2>{% trans "List National Objectives" %}</h2>
</section>
<section class="content">
  {% get_current_language as lang_code %}
  {% url 'edit_national_objective' as edit_objective %}
  <table id="objectives-table" data-url="{{ edit_objective }}" class="table table-striped table-bordered">

    <thead>
    <th>{% trans "Code" %}</th>
    <th>{% trans "Title" %}</th>
    </thead>

    <tbody>
    {% for objective in objectives %}
    <tr>
      <td>{{ objective.code }}</td>
      <td>
        <a href="{% url 'view_national_objective' pk=objective.pk %}"
           title="{% trans 'Objective' %} {{ objective.code }}">
          {{ objective.title|default:objective.code }}</a>
      </td>
    </tr>
    {% endfor %}
    </tbody>

  </table>
</section>
{% endblock %}

{% block scripts %}

<script>
  $(function () {
    $('#objectives-table').dataTable({
      "paging": false,
      "dom": '<"filter-wrapper"f>t'
    });
    var url=$('#objectives-table').data('url');
    $('.filter-wrapper').prepend('<div class="action-bar"><a class="btn btn-success add" href="'+url+'?category={{ category }}">{% trans "Add objective" %}</a></div>');
  });
</script>

{% endblock scripts %}